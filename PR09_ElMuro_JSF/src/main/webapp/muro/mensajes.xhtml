<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions">
    <h:head>
        <title>El Muro</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"/>
    </h:head>
    <h:body class="container">
        <h1>Muro de #{prefs.usuario}</h1>
        <h2>Mensajes</h2>
        <ul>
        <ui:repeat var="m" value="#{muro.mensajes}">
            <li class="list-group-item"><strong>#{fn:escapeXml(m.identificador)}:</strong> #{fn:escapeXml(m.mensaje)}</li>
        </ui:repeat>
        </ul>    
        <div class="row">
            <div class="col-md-6">
                <h:form>
                    <p><h:messages class="text-danger" /></p>
                    <h:inputText p:placeholder="Mensaje" value="#{muro.mensaje.mensaje}" class="form-control"/> 
                    <h:commandButton value="Enviar" action="#{muro.enviaMensaje}" class="form-control"/>
                    <h:link  outcome="identificador" value="Cambiar Identificador" class="btn btn-light"/>
                </h:form>
            </div>
        </div>
    </h:body>
</html>

